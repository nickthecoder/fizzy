To Do
=====

Soon
----

Rename LinkedXXX to XXXLink
If we ever check if a value is a constant using is PropValue, then this will NOT detect an expression like :
    Dimension2( 2mm, 3mm )
    Because it is a LinkedDimension2.
    So maybe we should check if the args are constants, and if so, create a Dimension2Prop instead.
    Similar for Vector2, Angle ...
        Each class XXXProp should have a "create" companion method which either creates a XXXProp of a LinkedXXX

AngleProp rad and deg conversions do NOT use AnglePropLinked, but sometimes they should (if the Double is not a constant).

Rename XXXProp to XXXConstant and rename initialValue to value

Create an interface for each property type, which extends Prop<XXX>
Remove all Prop<Double> and replace with IDoubleProp
    Ditto for all other property types.


There is no DimensionPropLinked

Implement properties getters in evaluator. Such as Vector2.x , Dimension2.x, Angle.degrees etc.


Add an "EvaluationContext" to Evaluator, which will have a reference to the shape and the document.
    Use this to reference other parts of the Shape, or other shapes in the document.
    Add  basic tests, then dynamically changed values

Maybe
-----


Later
-----

Be able to "click" a part of an expression and get to the definition.
    i.e. with : "shape3.geometry1[0].point"
    shape3 and geometry1 and [0] and point should all be "links"

Add trig functions sin cos etc.
    Use FunctionAngle, or remove it!
    asin and acos Accept Dimension AND Double???
    atan2 should accept Dimension2. Also accept Vector2? AND Double,Double ??

Problems
--------

Should Dimension(power=0) + Double fail?
    Ditto for Dimension2(power=0) + Vector2
    It currently does. Using "ratio() instead of "/" would mitigate the problem.
        But can we really not return EITHER Dimension or Double dynamically? (ditto for Vector2 or Dimension2).

Shape has an ID, which can be referenced by expressions in other Shapes.
    How do we change the expression TEXT when the ID is changed?
    When Evaluator is run, any time a Shape's ID is used, add a listener to the Shape's ID
        The listener knows the position of the token, and so the expression can be updated ;-)
    Clear the listeners before evaluating the expression and/or when the expression is changed.

Notes
-----

A Document should have a set of custom properties that its Shapes can reference.
For example, a line width and line color which many shapes all share.
    These can be expressions, and therefore can reference other custom properties.
When a stencil is dragged to a document, should it reference the stencil's document properties or the
    actual document's properties?
Could make the document reference the stencil, then the user can choose to break the link, and redefine the value.
